# ✅ 5주차 2번째 강의


# 5장. 관계 데이터 모델과 관계 데이터베이스 제약 조건

## 01. 관계형 모델의 개념

관계형 모델 : 데이터 간의 관계를 어떻게 가졌느냐를 기반으로 모델링 한 것으로, formal과 practical 모델 사이의 여러 다양한 차이를 배울 것이다.<br>

✔️Relation : 튜플들의 테이블, 각 열마다 애트리뷰트라고 불리는 헤더가 있다. 또한 각각의 행은 '튜플'이라고 부른다.<br><br>
✔️ 정형화된 관계형 개념<br>
 - domain: 원자성을 가진 값들의 집합<br>
 - attribute: 도메인이 가진 값들의 각각 값 이름<br>
 - 릴레이션 스키마: 애트리뷰트들의 집합을 정의하고 표기하는 방식<br>

 <br>
 예) STUDENT(Name, SSN, Birthdate, Addr)
 -> 차수 : 4개(튜플의 수), 튜플은 각각 dom(Ai), 스키마를 따르는 relation(t1,t2...) 튜플들을 모아놓은 것은 릴레이션이라고 함.<br><br>

<img width="744" alt="스크린샷 2020-05-05 오후 3 13 52" src="https://user-images.githubusercontent.com/35520314/81039097-09b81200-8ee3-11ea-9398-e8ac27422056.png">

## 02. 릴레이션의 특징

✅ 릴레이션 R에 있는 튜플들의 순서는 의미가 없다. 하지만 스키마 R에 있는 애트리뷰트(속성)들의 순서는 중요하다.<br>

한 튜플 내에 있는 각 값들은 더이상 나뉘지 않는 atomic 한 성질을 가지고 있으며, 사용자에 따라 필요한 정보가 있고 아닌 정보들이 있다.<br>
<br>
📌 **정리하기** <br>

<img width="794" alt="스크린샷 2020-05-05 오후 3 15 36" src="https://user-images.githubusercontent.com/35520314/81039190-46840900-8ee3-11ea-8c28-99692af1b1af.png">

## 03. 관계형 무결성 제약조건

> 1️⃣ 키 제약조건: 키를 꼭 가져야한다. <br>
2️⃣ 엔티티 무결성 : 키가 null이어서는 안된다. <br>
3️⃣ 참조 무결성 : R1에 있는 외래키 애트리뷰트는 R2 안에 있는 기본 키 애트리뷰트 값을 가져야 한다.

<br><br>
👉 키 제약조건 : R의 슈퍼키, 후보키 (슈퍼키는 키를 분류할 수 있게 함. 주민등록번호를 슈퍼키로 한다면, 이는 값들이 다 다르다/ 후보키는 슈퍼키인 주민등록번호에 + 이름을 붙여서 복합 키로 만드는 것이다.) <br><br>
👉 엔티티 제약조건 : 키가 null이어서는 안된다. 또한 key가 아닐지라도 값에 null이 되지 않도록 조심해야한다.<br>


<img width="765" alt="스크린샷 2020-05-05 오후 3 19 48" src="https://user-images.githubusercontent.com/35520314/81039396-dcb82f00-8ee3-11ea-97cb-1009d6647cd5.png"><br><br>

👉 참고 무결성 : R1 안에 있는 외래키 값은 불리워진 R2 안에 있는 기본 키 애트리뷰트 값이어야한다. 제약 조건 범위는 두 테이블간의 두 릴레이션이고, 표기는 다음과 같다. <br>

```
if t1[FK] = t2[PK]<br>
R1FK to R2PK
```
<br>

<img width="748" alt="스크린샷 2020-05-05 오후 3 21 37" src="https://user-images.githubusercontent.com/35520314/81039485-1db04380-8ee4-11ea-89d0-ecff77d69648.png">

<br>

## 04. 릴레이션에 대한 갱신 연산

종류: Insert, Delete, Modify<br>
제약조건: 무결성 제약조건 -> 여러 개가 연관된 업데이트를 실행할 떄는 반드시 그룹으로 한 번에 갱신되어야 함.<br>
<br>
❗️ 갱신이 이루어지면, 바뀐 것을 이용자에게 알려줘야하며 지속적인 업데이트를 통해 에러 수정 등을 계속 해야지만 무결성이 유지된다.


